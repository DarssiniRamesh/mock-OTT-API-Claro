{"is_source_file": true, "format": "JavaScript", "description": "This file is a configuration module for handling MongoDB database connections using Mongoose. It includes connection options, methods for connecting and disconnecting from the database, and retry logic for resilient connection management.", "external_files": ["./index", "../utils/logger"], "external_methods": [], "published": ["connectDB", "disconnectDB", "getConnectionStatus"], "classes": [], "methods": [{"name": "connectDB", "description": "Establishes a connection to the MongoDB database, incorporating retry logic and event listeners for connection state management."}, {"name": "retryConnection", "description": "Retries the connection to the MongoDB database if the initial connection fails, with a specified interval and maximum number of retries."}, {"name": "disconnectDB", "description": "Disconnects from the MongoDB database and manages the disconnection state."}, {"name": "getConnectionStatus", "description": "Retrieves the current connection status to the MongoDB database, including whether it is connected and connection details."}], "calls": ["mongoose.connect", "mongoose.disconnect", "mongoose.connection.on"], "search-terms": ["MongoDB connection", "Mongoose database", "connection pooling", "retry logic"], "state": 2, "file_id": 8, "knowledge_revision": 24, "git_revision": "608c8088c5f78938ad4d02c0d24fc9aae131849f", "revision_history": [{"20": "608c8088c5f78938ad4d02c0d24fc9aae131849f"}, {"24": "608c8088c5f78938ad4d02c0d24fc9aae131849f"}], "ctags": [{"_type": "tag", "name": "MAX_RETRIES", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const MAX_RETRIES = 5;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RETRY_INTERVAL", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const RETRY_INTERVAL = 5000; \\/\\/ 5 seconds$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const config = require('.\\/index');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "conn", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^    const conn = await mongoose.connect(config.mongodbUri, connectionOptions);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connectDB", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  connectDB,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "connectDB", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const connectDB = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connectTimeoutMS", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  connectTimeoutMS: 10000,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "connectionOptions", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const connectionOptions = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "disconnectDB", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const disconnectDB = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getConnectionStatus", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const getConnectionStatus = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "heartbeatFrequencyMS", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  heartbeatFrequencyMS: 10000,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "isConnected", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^let isConnected = false;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "keepAlive", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  keepAlive: true,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "keepAliveInitialDelay", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  keepAliveInitialDelay: 300000,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const logger = require('..\\/utils\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mongoose", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const mongoose = require('mongoose');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "poolSize", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  poolSize: 10,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "retryConnection", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^const retryConnection = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "retryCount", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^let retryCount = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "serverSelectionTimeoutMS", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  serverSelectionTimeoutMS: 5000,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "socketTimeoutMS", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  socketTimeoutMS: 45000,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "useNewUrlParser", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  useNewUrlParser: true,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}, {"_type": "tag", "name": "useUnifiedTopology", "path": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "pattern": "/^  useUnifiedTopology: true,$/", "language": "JavaScript", "kind": "property", "scope": "connectionOptions", "scopeKind": "class"}], "filename": "/home/kavia/workspace/mock-OTT-API-Claro/src/config/database.js", "hash": "67d74eaa0ed8e9ee00a436131068def2", "format-version": 4, "code-base-name": "default", "fields": [{"name": "connectDB,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "connectTimeoutMS: 10000,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "heartbeatFrequencyMS: 10000,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "let isConnected = false;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "keepAlive: true,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "keepAliveInitialDelay: 300000,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "poolSize: 10,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "let retryCount = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "serverSelectionTimeoutMS: 5000,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "socketTimeoutMS: 45000,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "useNewUrlParser: true,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "useUnifiedTopology: true,", "scope": "connectionOptions", "scopeKind": "class", "description": "unavailable"}]}